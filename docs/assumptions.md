# Assumptions

## Database Schema Assumptions

### General Schema Design
- IDs maintain format ("stu_001", "sch_001"), generated by application code
- GPA uses 4.0 scale with CHECK constraint (0.0-4.0)
- Amounts stored as whole dollars (INTEGER)
- Email uniqueness enforced via UNIQUE constraint
- Timestamps (created_at, updated_at) managed by application code (UTC recommended)
- NULL in eligibility fields means "not required" (not a filter)
- Empty arrays result in no junction table rows (empty = all eligible, no restrictions)
- Application requirements stored as TEXT[] array (read-only reference data)
- Schema uses DROP TABLE IF EXISTS for fresh setup (take-home context)

### Data Value Standards
Standardized string values for citizenship status ("US Citizen", "Permanent Resident", "DACA"), enrollment status ("high_school_senior", "undergraduate", "graduate"), military affiliation ("veteran", "active_duty", "dependent"), and residency ("urban", "suburban", "rural"). Ethnicity as free-form strings (students can have multiple). Application must ensure consistent capitalization/spelling.

## API Implementation Assumptions

### General Implementation
- Student IDs generated sequentially (stu_001, stu_002, etc.) by querying max existing ID
- Financial need calculated from household_income threshold ($50,000) in application code
- Service layer architecture: routes handle HTTP, services handle business logic
- Centralized error handling with PostgreSQL error code detection (23xxx = 409 Conflict, 22xxx = 400 Bad Request)
- Required student fields: name, email, gpa, enrollment_status, citizenship_status
- Optional fields default to NULL or false
- Email uniqueness enforced by database constraint (409 Conflict on duplicate)
- Matching logic uses single comprehensive SQL query with EXISTS clauses for junction tables
- Match reasons generated from required (non-NULL/empty) eligibility criteria only

## OpenAI assumptions


- AI explanations generated via OpenAI API (gpt-3.5-turbo model) when AI_PROVIDER=openai and OPENAI_API_KEY configured
- Explanations fallback to error message if OpenAI API fails or is not configured
- OpenAI service requires OPENAI_API_KEY environment variable (throws error if missing)